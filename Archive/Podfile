#source 'https://github.com/CocoaPods/Specs.git'

platform :ios, '12.0'
use_frameworks!
install! 'cocoapods', :disable_input_output_paths => true

# 配置需要打包的库
$frameworks = ['Alamofire']

target 'Archive' do
  # 引入库
  #	pod 'coswift'
  pod 'Alamofire'
  pod 'ReactiveCocoa'
  #  pod 'Kingfisher'
end

post_install do |installer|
  project = installer.pods_project
  project.recreate_user_schemes(:visible => true)
  project.save
  project.targets.each { |target|
    target.build_configurations.each do |config|
      config.build_settings['ARCHS'] = 'arm64'
    end
    if $frameworks.include?(target.name)
      puts "share #{target.name}"
      Xcodeproj::XCScheme.share_scheme(installer.sandbox.project_path, target)
    end
  }
end
